services:
  postgres:
    image: 'postgres:latest'
    environment:
      - 'POSTGRES_DB=mydatabase'
      - 'POSTGRES_PASSWORD=secret'
      - 'POSTGRES_USER=myuser'
    ports:
      - '5432:5432'

  grafana:
    image: grafana/grafana
    restart: always
    ports:
      - "9091:3000"
    volumes:
      - /tmp/grafana/storage:/var/lib/grafana
      - ./observability/grafana-datasources.yml:/etc/grafana/provisioning/datasources/grafana-datasources.yml

  zipkin:
    image: openzipkin/zipkin
    ports:
      - "9411:9411"